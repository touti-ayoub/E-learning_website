<div *ngIf="posts.length > 0; else noPosts" class="container mt-4">
  <h2 class="text-center mb-4">Posts List</h2>
  <ul class="list-group">
    <li *ngFor="let post of posts" class="list-group-item d-flex flex-column align-items-start">
      <!-- Post Content -->
      <div class="ms-2 me-auto">
        <div class="fw-bold">{{ post.content }}</div>
        <p class="text-muted mb-1">
          <strong>Date Created:</strong> {{ post.datePost | date: 'medium' }}
        </p>
      </div>

      <!-- Post Actions -->
      <div class="d-flex align-items-center mt-2">
        <button (click)="onLikePost(post.idPost)" class="btn btn-outline-success btn-sm me-2">
          <fa-icon [icon]="faThumbsUp"></fa-icon> {{ post.likeCount || 0 }}
        </button>
        <button (click)="onDislikePost(post.idPost)" class="btn btn-outline-danger btn-sm me-2">
          <fa-icon [icon]="faThumbsDown"></fa-icon> {{ post.dislikeCount || 0 }}
        </button>
        <button (click)="onUpdatePost(post)" class="btn btn-warning btn-sm me-2">Update</button>
        <button (click)="onDeletePost(post.idPost)" class="btn btn-danger btn-sm">Delete</button>
      </div>

      <!-- Add Comment -->
      <div class="mt-3">
        <label for="comment-{{ post.idPost }}" class="form-label">Add a Comment:</label>
        <textarea
          id="comment-{{ post.idPost }}"
          [(ngModel)]="post.newComment"
          class="form-control"
          rows="2"
          placeholder="Write your comment here..."
        ></textarea>
        <button
          (click)="onAddComment(post.idPost, post.newComment || '')"
          class="btn btn-primary btn-sm mt-2"
        >
          Submit Comment
        </button>
      </div>

      <!-- Comments Section -->
      <div class="mt-3">
        <h5>Comments:</h5>
        <ul class="list-group">
          <li
            *ngFor="let comment of post.comments"
            class="list-group-item d-flex justify-content-between align-items-center"
          >
            <span>{{ comment.contentInteraction }}</span>
            <button
              (click)="onDeleteComment(post.idPost, comment.idInteraction)"
              class="btn btn-danger btn-sm"
            >
              <fa-icon [icon]="faTrash"></fa-icon>
            </button>
          </li>
        </ul>
      </div>
    </li>
  </ul>
</div>

<!-- No Posts Template -->
<ng-template #noPosts>
  <div class="text-center mt-4">
    <p class="text-muted">No posts available.</p>
  </div>
</ng-template>